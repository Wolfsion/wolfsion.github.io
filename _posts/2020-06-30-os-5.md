---
layout: post
title:  "操作系统文件系统"
date:   2020-06-30
excerpt: "文件系统综述"
tags: [操作系统]
comments: true
---
# 文件管理

## 概述

+ **定义**：负责管理持久数据
+ 类型
  + ext
  + fat
  + ...
+ 文件锁
  + 独占锁与共享锁
  + 建议锁与强制锁
+ 访问方法
  + 随机访问
  + 索引访问
  + 顺序访问
+ 权限：读；写；执行
+ 文件共享：
  + 一致性语义
  + 用户与组



## 目录

+ 定义：即文件夹为文件的一种，包含了目录下的文件名和指向这些文件的指针
+ 操作
  + 挂载（挂载表）
  + 遍历
  + 重命名
  + 搜索
  + 创建和删除（删除只是删除索引）
+ 路径
  + 绝对路径
  + 相对路径
+ 链接
  + 软链接：类型快捷方式。实际上是一个文本文件，其中包含的有另一文件的位置信息。
  + 硬链接：硬连接指通过索引节点来进行连接，允许一个文件拥有多个有效路径名。
+ 权限同上*





## 文件系统实现

+ 操作
  + 读写文件
  + 创建和删除文件
  + 定位文件
  + 截断文件
+ 维护信息
  + FCB
  + 目录结构
  + 卷控制块
+ 实现内容
  + 目录实现
    + 线性列表
    + 哈希表
  + 分配方法
    + 连续分配：文件较小，支持顺序与随机访问
    + 链接分配：文件较大，支持顺序访问
    + 索引分配：文件较大，支持随机访问
  + 空闲空间管理
    + 位向量
    + 链表
    + 其他
  + 恢复：一致性检查
+ 评估：效率与性能



## 虚拟文件系统

+ 引入场景：屏蔽诸多不同文件系统，提供统一接口
+ 对象
  + 目录条目对象
  + 超级对象
  + 文件对象
  + 索引节点对象
