---
layout: post
title:  "操作系统IO管理"
date:   2020-06-15
excerpt: "IO管理综述"
tags: [操作系统]
comments: true
---
# IO管理

## 概述

+ 设备驱动程序

+ 设备类型

  + 块设备
  + 字符设备

+ 概念对

  + 阻塞与非阻塞
  + 同步与异步
  + 缓冲与缓存

  

## IO控制方式

+ DMA：外部设备不通过CPU而直接与系统内存交换数据的接口技术

+ 中断：CPU与外设速度相差大

  + 分类

    ![image-20210721180511964](..\assets\img\os-4-1.png)

  + 操作：中断响应；中断处理；中断返回

+ 轮询：短频繁的IO请求



## IO工作流程

+ IO调度

+ 假脱机

+ IO通道：可控制多外设，进一步解放CPU（更彻底相比DMA）

  ![image-20210721180242603](..\assets\img\os-4-2.png)

+ 流程：

`系统调用->内核IO子系统->设备驱动程序->设备控制器->中断处理程序->设备驱动程序->IO子系统->系统调用返回`





## 大容量设备

+ 磁盘内部构造

  + 柱面
  + 扇区
  + 磁道

+ 分区（逻辑划分）

  + 引入场景：分类存储文件
  + 主分区：激活系统
  + 扩展分区

+ 格式化

  + 高级（逻辑）格式化：写入文件系统
  + 低级（物理）格式化：填充扇区信息

  `文件系统位于扇区之上`

+ 磁盘调度：满足各个进程对对 磁盘 进行读/写操作的请求

  + FCFS
  + SSTF
  + SCAN
  + C-SCAN
  + LOOK

+ SSD*
